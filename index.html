<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a demo site for Nikola.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>suzumiya's blog</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900" rel="stylesheet">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="rss.xml">
<link rel="canonical" href="https://fpghwd.github.io/">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]--><link rel="prefetch" href="posts/bu-ma/" type="text/html">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Header and menu bar -->
<div class="container">
      <header class="blog-header py-3"><div class="row nbb-header align-items-center">
          <div class="col-md-3 col-xs-2 col-sm-2" style="width: auto;">
            <button class="navbar-toggler navbar-light bg-light nbb-navbar-toggler" type="button" data-toggle="collapse" data-target=".bs-nav-collapsible" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse bs-nav-collapsible bootblog4-search-form-holder">
                
            </div>
        </div>
          <div class="col-md-6 col-xs-10 col-sm-10 bootblog4-brand" style="width: auto;">
            <a class="navbar-brand blog-header-logo text-dark" href=".">

            <span id="blog-title">suzumiya's blog</span>
        </a>
          </div>
            <div class="col-md-3 justify-content-end align-items-center bs-nav-collapsible collapse flex-collapse bootblog4-right-nav">
            <nav class="navbar navbar-light bg-white"><ul class="navbar-nav bootblog4-right-nav"></ul></nav>
</div>
    </div>
</header><nav class="navbar navbar-expand-md navbar-light bg-white static-top"><div class="collapse navbar-collapse bs-nav-collapsible" id="bs-navbar">
            <ul class="navbar-nav nav-fill d-flex w-100">
<li class="nav-item">
<a href="archive.html" class="nav-link">Archive</a>
                </li>
<li class="nav-item">
<a href="categories/" class="nav-link">Tags</a>
                </li>
<li class="nav-item">
<a href="rss.xml" class="nav-link">RSS feed</a>

                
            </li>
</ul>
</div>
<!-- /.navbar-collapse -->
</nav>
</div>

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        
        
    
        

    
        
    <div class="postindex">
            <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/bu-ma/" class="u-url">Leetcode405 Convert a Number to Hexadecimal</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        <a href="authors/suzumiya-haruhi/">suzumiya haruhi</a>
                    </span></p>
            <p class="dateline">
            <a href="posts/bu-ma/" rel="bookmark">
            <time class="published dt-published" datetime="2020-06-22T09:14:03+08:00" itemprop="datePublished" title="2020-06-22 09:14">2020-06-22 09:14</time></a>
            </p>
                        <p class="commentline">
        
    <a href="posts/bu-ma/#disqus_thread" data-disqus-identifier="cache/posts/bu-ma.html">Comments</a>


                </p>
</div>
            </header><div class="e-content entry-content">
                    <div>
<p>
这道题要将有符号数转化为16进制表示法. 有符号整数在计算机内是补码表, 所以将数字的补码转化为16进制即可.
</p>

<p>
<b>原码</b>
</p>

<p>
在指定数字范围和位数上限后, 原码最高位为符号, 其他位为数字的绝对值二进制表示. 例如: 5为00000000, -4为10000100
</p>

<p>
<b>反码</b>
</p>

<p>
反码: 原码的进一步表示. 但是对于0有两种表示方法(假设位数上限为8位, 00000000和10000000), 且对于负数的运算并不直观: 例如(-5)+1=-4, 10000101+1=10000100在位运算上不直观(此处的直观是指计算机的位运算)
</p>

<p>
<b>补码</b>
</p>

<p>
补码: 补码的操作看起来复杂(反码除符号位取反,然后加1), 但是最终的目的还是解决掉反码表示的两个问题(0的两个表示和负数的运算直观性). 其实我觉得换我来设计也是一样的.
</p>

<p>
8位能表示 2<sup>8</sup> 个数, 如果对于无符号(正数)可以表示从0~255这256个数(可能是0~255, 也可以是2~257, 3~258等等), 而对于有符号整数, 同样可以表示256个. 假设我们从0~255中把128~255这128个数的位置腾出来给负数, 那可以表示-128~-1这128个数. 整体情况就是用了8位表示-128~127这256个数. 之前的两个问题已经解决了一个, 那就是0的重合问题, 现在要解决的就是运算的直观性. 其实一眼就看出来了: 在表示的128~255中本来就有运算直观性, 现在要做的就是把 -128~-1 放到 100000000~11111111 这128个位置中而已. 然后刚好11111111代表-1, 11111111(-1)+1=00000000(0), 刚好合适. 其实这里写了很多, 不如公式里面写的更为清楚. 
</p>

<p>
<b>8位求补码</b>
</p>

<p>
把原码(128/10000000~255/11111111)映射为(-128/10000000~-1/11111111), 其实就是数字-256: 128 + (-256) = -128, 255 + (-256) = -1, 因为128和255的原码我们很容易得到,而后面负数就是原来我们需要转换的负数.
所以对于负数而言, 求原码的稍微转换一下: 原码数 + (-256) = 原数.
</p>

<p>
那么我们来求一个-24的原码: -2(原数) + 256 = 254(原码数), 254是11111110, 所以-2的补码就是11111110
我觉得中间反码的概念对于设计过程理解而言可能有用, 但是对于转码就直接用公式就可以了: 当原数为正,补码就是原码; 当原数为负, 补码就是原数+256后的原码.(这里以8位为例子, int就是32位)  
</p>

<p>
<b>Solution</b>
</p>

<div class="org-src-container">

<pre><code class="lang-cpp">class Solution {
public:
    string toHex(int num) {
        string ret = "";
        unsigned int n;
        if(num &lt; 0)n =  ~(abs(num))+1;
        else if(num == 0)return "0";
        else n = num;

        while(n){
            ret.insert(0,1,(n%16 &gt;= 10)?(n%16 - 10 + 'a'):(n%16 + '0'));
            n /= 16;
        }

        return ret;
    }
};
</code></pre>

</div>

<p>
其中 <code>n = ~(abs(num)) + 1</code> 就是求反码的过程. 之前最高位8位时已经得到反码公式: <code>原数 + 2^8  = 反码数</code> 可以直接转化为反码. 那么在考虑到类型转换的原因, 不能让运算过程中发生隐性的类型转换, 那么原来的过程可以转化为 <code>原数 + 255 + 1 = 反码数</code>, 同时考虑到原数是负数, 进一步转化为 <code>255 - (-原数) + 1 = 反码数</code>, 现在把 <code>255 - (-原数)</code> 单独拿出来就是 <code>255 - abs(原数)</code>, 其实也就可以用求反符号代替 <code>255 -</code> , 原式转化为 <code>~(abs(原数)) + 1</code>. 
</p>

<p>
同样在int为32位的情况中, 求反码的公式为: <code>反码数 = ~abs(原数) + 1</code> .
</p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/nikola-first-time/" class="u-url">Nikola First Time</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        <a href="authors/suzumiya-haruhi/">suzumiya haruhi</a>
                    </span></p>
            <p class="dateline">
            <a href="posts/nikola-first-time/" rel="bookmark">
            <time class="published dt-published" datetime="2020-05-23T02:51:23+08:00" itemprop="datePublished" title="2020-05-23 02:51">2020-05-23 02:51</time></a>
            </p>
                        <p class="commentline">
        
    <a href="posts/nikola-first-time/#disqus_thread" data-disqus-identifier="cache/posts/nikola-first-time.html">Comments</a>


                </p>
</div>
            </header><div class="e-content entry-content">
                    <div>
<p>
最近觉得自己是时候开始写博客了，然后就在自己用的openSUSE上用<a href="https://snapcraft.io/search?q=Nikola">snap安装nikola</a>，然后用Chen Bin的<a href="https://github.com/redguardtoo/emacs.d">Emacs配置</a>。最后照着<a href="https://github.com/redguardtoo/org2nikola">org2nikola</a>说明稍微配置了一下：大纲导出即发布，以后就可以用org来写博客了。
</p>

<p>
<i>“如果无法决定的话，试着丢掉一些东西”</i>
是不久前看蔡康永听到的，是「背水一战」的一种温和的形式。刚听到这句话我就打开手机把浏览器书签里的超过100估计有200多以前都有点不想删的书签都删除，希望享受着这种丢弃带给我的坚定感，但却事与愿违。
</p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/blog-title/" class="u-url">blog-title</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        <a href="authors/suzumiya-haruhi/">suzumiya haruhi</a>
                    </span></p>
            <p class="dateline">
            <a href="posts/blog-title/" rel="bookmark">
            <time class="published dt-published" datetime="2020-05-23T02:47:42+08:00" itemprop="datePublished" title="2020-05-23 02:47">2020-05-23 02:47</time></a>
            </p>
                        <p class="commentline">
        
    <a href="posts/blog-title/#disqus_thread" data-disqus-identifier="cache/posts/blog-title.html">Comments</a>


                </p>
</div>
            </header><div class="e-content entry-content">
                    <div>
<p>
Some content here
</p>

<p>
Test <b>bolded</b> test <i>italic text</i> <code>verbatim.key[0].hello.value</code>
</p>

<p>
This is <span class="underline">underlined text</span>.
</p>

<p>
This is some code,
</p>

<div class="org-src-container">

<pre><code class="lang-javascript">console.log('object=', object);
</code></pre>

</div>

<p>
This is <a href="http://www.google.com">google link</a>.
</p>

<p>
Footnote1 <sup><a id="fnr.1" class="footref" href="posts/blog-title/#fn.1">1</a></sup> and footnote2 <sup><a id="fnr.2" class="footref" href="posts/blog-title/#fn.2">2</a></sup> to explain something.
</p>

<div id="footnotes">
<h3 class="footnotes">Footnotes: </h3>
<div id="text-footnotes">

<div class="footdef">
<sup><a id="fn.1" class="footnum" href="posts/blog-title/#fnr.1">1</a></sup><div class="footpara"><p class="footpara">
The link is: <a href="http://orgmode.org">http://orgmode.org</a>
</p></div>
</div>

<div class="footdef">
<sup><a id="fn.2" class="footnum" href="posts/blog-title/#fnr.2">2</a></sup><div class="footpara">
<p class="footpara">
Just another footnote
</p>

<pre class="example">
here is some example
</pre>
</div>
</div>


</div>
</div>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/welcome-to-nikola/" class="u-url">Welcome to Nikola</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        <a href="authors/roberto-alsina/">Roberto Alsina</a>
                    </span></p>
            <p class="dateline">
            <a href="posts/welcome-to-nikola/" rel="bookmark">
            <time class="published dt-published" datetime="2012-03-30T23:00:00-03:00" itemprop="datePublished" title="2012-03-30 23:00">2012-03-30 23:00</time></a>
            </p>
                        <p class="commentline">
        
    <a href="posts/welcome-to-nikola/#disqus_thread" data-disqus-identifier="cache/posts/1.html">Comments</a>


                </p>
</div>
            </header><div class="e-content entry-content">
                    <div>
<div class="figure">
<a class="reference external image-reference" href="https://farm1.staticflickr.com/138/352972944_4f9d568680_z.jpg?zz=1"><img alt="Nikola Tesla Corner by nicwest, on Flickr" class="thumbnail" src="https://farm1.staticflickr.com/138/352972944_4f9d568680.jpg"></a>
</div>
<p>If you can see this in a web browser, it means you managed to install Nikola,
and build a site using it. Congratulations!</p>
<p>Next steps:</p>
<ul class="simple">
<li><p><a class="reference external" href="pages/handbook/">Read the manual</a></p></li>
<li><p><a class="reference external" href="https://getnikola.com">Visit the Nikola website to learn more</a></p></li>
<li><p><a class="reference external" href="galleries/demo/">See a demo photo gallery</a></p></li>
<li><p><a class="reference external" href="pages/listings-demo/">See a demo listing</a></p></li>
<li><p><a class="reference external" href="pages/dr-nikolas-vendetta/">See a demo of a longer text</a></p></li>
</ul>
<p>Send feedback to <a class="reference external" href="mailto:info@getnikola.com">info@getnikola.com</a>!</p>
</div>
                </div>
            </article>
</div>
    

    
        
       <script>var disqus_shortname="fpghwd-github-io";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><!--End of body content--><footer id="footer">
            Contents © 2020         <a href="mailto:ggwdwhu@gmail.com">suzumiya haruhi</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
            
        </footer>
</div>
</div>


        <script src="assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
